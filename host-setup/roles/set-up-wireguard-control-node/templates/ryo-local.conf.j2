#-------------------------------------------------------------------------------------------
# WARNING: Never push this file, with secrets, to a repository nor publish in any other way!
#
# This file is generated by the rollyourown.xyz host setup playbook
#-------------------------------------------------------------------------------------------
[Interface]
PrivateKey = {{ generated_local_private_key.stdout }}
Address = {{ wireguard_address_network_part }}.1/32

[Peer]
PublicKey = {{ generated_host_public_key.stdout }}
PresharedKey = {{ generated_preshared_key.stdout }}
AllowedIPs = {{ wireguard_address_network_part }}.2/32,{{ [ lxd_br0_network_part, ".0/24"] | join('') }},{{ [ lxd_dmz_network_part, ".0/24"] | join('') }},{{ [ lxd_frontend_network_part, ".0/24"] | join('') }},{{ [ lxd_backend_network_part, ".0/24"] | join('') }}
Endpoint = {{ host_public_ip }}:{{ host_wireguard_port }}
