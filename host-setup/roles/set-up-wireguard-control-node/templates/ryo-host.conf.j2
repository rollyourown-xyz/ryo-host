# SPDX-FileCopyrightText: 2022 Wilfred Nicoll <xyzroller@rollyourown.xyz>
# SPDX-License-Identifier: GPL-3.0-or-later

#-------------------------------------------------------------------------------------------
# WARNING: Never push this file, with secrets, to a repository nor publish in any other way!
#
# This file is generated by the rollyourown.xyz host setup playbook
#-------------------------------------------------------------------------------------------
[Interface]
PrivateKey = {{ generated_host_private_key.stdout }}
Address = {{ wireguard_network_ipv6_prefix }}::2/128
ListenPort = {{ host_wireguard_port }}

[Peer]
PublicKey = {{ generated_local_public_key.stdout }}
PresharedKey = {{ generated_preshared_key.stdout }}
AllowedIPs = {{ wireguard_network_ipv6_prefix }}::1/128, {{ [ veth0_network_part, ".1/32"] | join('') }}, {{ [ veth0_network_ipv6_prefix, "::1/128"] | join('') }}
